(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(20).concat([function(e,t,a){e.exports=a(91)},,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/placeholder.39092570.png"},function(e,t,a){var n={"./1.jpg":49,"./10.jpg":50,"./11.jpg":51,"./12.jpg":52,"./13.jpg":53,"./14.jpg":54,"./15.jpg":55,"./16.jpg":56,"./17.jpg":57,"./18.jpg":58,"./19.jpg":59,"./2.jpg":60,"./20.jpg":61,"./21.jpg":62,"./22.jpg":63,"./23.jpg":64,"./24.jpg":65,"./25.jpg":66,"./26.jpg":67,"./27.jpg":68,"./28.jpg":69,"./29.jpg":70,"./3.jpg":71,"./30.jpg":72,"./31.jpg":73,"./32.jpg":74,"./33.jpg":75,"./34.jpg":76,"./35.jpg":77,"./36.jpg":78,"./37.jpg":79,"./38.jpg":80,"./39.jpg":81,"./4.jpg":82,"./5.jpg":83,"./6.jpg":84,"./7.jpg":85,"./8.jpg":86,"./9.jpg":87};function i(e){var t=s(e);return a(t)}function s(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=48},function(e,t,a){e.exports=a.p+"static/media/1.8e0528e9.jpg"},function(e,t,a){e.exports=a.p+"static/media/10.ecc62e3d.jpg"},function(e,t,a){e.exports=a.p+"static/media/11.16f2fc4b.jpg"},function(e,t,a){e.exports=a.p+"static/media/12.9c46231b.jpg"},function(e,t,a){e.exports=a.p+"static/media/13.9414b503.jpg"},function(e,t,a){e.exports=a.p+"static/media/14.c1ad8075.jpg"},function(e,t,a){e.exports=a.p+"static/media/15.e7a7d2c2.jpg"},function(e,t,a){e.exports=a.p+"static/media/16.0835c91b.jpg"},function(e,t,a){e.exports=a.p+"static/media/17.687f2a67.jpg"},function(e,t,a){e.exports=a.p+"static/media/18.4bd3b5bd.jpg"},function(e,t,a){e.exports=a.p+"static/media/19.a6466df5.jpg"},function(e,t,a){e.exports=a.p+"static/media/2.6c07bc36.jpg"},function(e,t,a){e.exports=a.p+"static/media/20.399644da.jpg"},function(e,t,a){e.exports=a.p+"static/media/21.08e03de0.jpg"},function(e,t,a){e.exports=a.p+"static/media/22.fcd5e76f.jpg"},function(e,t,a){e.exports=a.p+"static/media/23.ceecf72c.jpg"},function(e,t,a){e.exports=a.p+"static/media/24.4f529724.jpg"},function(e,t,a){e.exports=a.p+"static/media/25.c461d2b8.jpg"},function(e,t,a){e.exports=a.p+"static/media/26.736009a9.jpg"},function(e,t,a){e.exports=a.p+"static/media/27.2a40df73.jpg"},function(e,t,a){e.exports=a.p+"static/media/28.4fb430fe.jpg"},function(e,t,a){e.exports=a.p+"static/media/29.a691ecff.jpg"},function(e,t,a){e.exports=a.p+"static/media/3.a91aa74f.jpg"},function(e,t,a){e.exports=a.p+"static/media/30.3dff6c25.jpg"},function(e,t,a){e.exports=a.p+"static/media/31.8c8dc5c3.jpg"},function(e,t,a){e.exports=a.p+"static/media/32.6f1a07ca.jpg"},function(e,t,a){e.exports=a.p+"static/media/33.cc7591d8.jpg"},function(e,t,a){e.exports=a.p+"static/media/34.78badcab.jpg"},function(e,t,a){e.exports=a.p+"static/media/35.7726e937.jpg"},function(e,t,a){e.exports=a.p+"static/media/36.dc8431bd.jpg"},function(e,t,a){e.exports=a.p+"static/media/37.76899396.jpg"},function(e,t,a){e.exports=a.p+"static/media/38.c27bd3f9.jpg"},function(e,t,a){e.exports=a.p+"static/media/39.6bec1d39.jpg"},function(e,t,a){e.exports=a.p+"static/media/4.caf79695.jpg"},function(e,t,a){e.exports=a.p+"static/media/5.b093b39c.jpg"},function(e,t,a){e.exports=a.p+"static/media/6.b622923a.jpg"},function(e,t,a){e.exports=a.p+"static/media/7.2be251a4.jpg"},function(e,t,a){e.exports=a.p+"static/media/8.c01718e7.jpg"},function(e,t,a){e.exports=a.p+"static/media/9.0da837bf.jpg"},function(e,t,a){e.exports=a.p+"static/media/logo.16c55ca8.png"},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(17),o=a.n(s),r=a(2),c=a(3),l=a(6),u=a(4),p=a(5),d=a(1),g=a(19),m=function(e){return i.a.createElement("div",{className:"topTitleContainer"},i.a.createElement("p",{className:"title28"},"F E N C E  D R A W"),i.a.createElement("div",{className:"userInfoContainer"},null!==e.username&&i.a.createElement("p",{className:"usernameDisplay title18 limitOverflow"},"user: ".concat(e.username)),null!==e.filename&&i.a.createElement("p",{className:"filenameDisplay title18 limitOverflow"},"drawing: ".concat(e.filename))))},h=function(e){return i.a.createElement("div",{className:"createDrawingContainer"},i.a.createElement("div",{className:"createDrawingInput"},i.a.createElement("input",{className:"createDrawingTextInput",type:"text",name:"filename",value:e.filenameInput,onChange:e.handleFilenameInputChange,placeholder:"enter drawing name"})),i.a.createElement("div",{className:"createDrawingButtons"},i.a.createElement("button",{className:"cancelButton buttonWhite",onClick:e.hideCreateDrawingContainer},"Cancel"),i.a.createElement("button",{className:"createButton buttonWhite",onClick:e.createDrawing},"Create Drawing")))},f=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={confirmIsVisible:!1},a.showConfirm=a.showConfirm.bind(Object(d.a)(Object(d.a)(a))),a.hideConfirm=a.hideConfirm.bind(Object(d.a)(Object(d.a)(a))),a.handleClickOutside=a.handleClickOutside.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside,!1)}},{key:"handleClickOutside",value:function(e){this.node.contains(e.target)||this.hideConfirm()}},{key:"showConfirm",value:function(){this.setState({confirmIsVisible:!0})}},{key:"hideConfirm",value:function(){this.setState({confirmIsVisible:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{ref:function(t){return e.node=t},className:"confirmDeleteContainer"},this.state.confirmIsVisible?i.a.createElement("div",{className:"confirmContainer"},i.a.createElement("p",{className:"confirmText"},"Are you sure?"),i.a.createElement("button",{className:"yesButton buttonWhite",onClick:function(){e.props.deleteFunc(),e.hideConfirm()}},"Yes"),i.a.createElement("button",{className:"noButton buttonWhite",onClick:this.hideConfirm},"No")):i.a.createElement("button",{className:"deleteButton buttonBlack",onClick:this.showConfirm},this.props.text))}}]),t}(n.Component),b=function(e){return i.a.createElement("div",{className:"drawingListItemContainer"},i.a.createElement("p",{className:"drawingLabel limitOverflow"},e.filename),i.a.createElement("div",{className:"editDeleteButtonContainer"},i.a.createElement(f,{deleteFunc:e.deleteDrawing,text:"Delete"}),i.a.createElement("button",{className:"editButton buttonBlack",onClick:e.editDrawing},"Edit")))},j=(a(26),a(7)),v=a.n(j),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={messageText:"",filenameInput:"",createDrawingIsVisible:!1,drawingNames:[]},a.showCreateDrawingContainer=a.showCreateDrawingContainer.bind(Object(d.a)(Object(d.a)(a))),a.hideCreateDrawingContainer=a.hideCreateDrawingContainer.bind(Object(d.a)(Object(d.a)(a))),a.createDrawing=a.createDrawing.bind(Object(d.a)(Object(d.a)(a))),a.handleFilenameInputChange=a.handleFilenameInputChange.bind(Object(d.a)(Object(d.a)(a))),a.switchUser=a.switchUser.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("".concat(this.props.apiUrl,"/users/").concat(this.props.username,"/drawings")).then(function(t){t.data.map(function(t){return e.setState({drawingNames:[].concat(Object(g.a)(e.state.drawingNames),[t.filename])})}),console.log(t.data),0===e.state.drawingNames.length&&e.setState({messageText:'no drawings to display<br/>press "New Drawing" to make a drawing'})}).catch(function(e){return console.log(e)})}},{key:"showCreateDrawingContainer",value:function(){this.setState({createDrawingIsVisible:!0})}},{key:"hideCreateDrawingContainer",value:function(){this.setState({createDrawingIsVisible:!1})}},{key:"handleFilenameInputChange",value:function(e){this.setState({filenameInput:e.target.value})}},{key:"createDrawing",value:function(){var e=this,t=this.state.filenameInput;""!==t&&v.a.post("".concat(this.props.apiUrl,"/users/").concat(this.props.username,"/drawings"),{filename:t,pages:[]}).then(function(a){e.editDrawing(t),console.log(a.data)}).catch(function(e){return console.log(e)})}},{key:"editDrawing",value:function(e){this.props.setFilename(e)}},{key:"deleteDrawing",value:function(e){var t=this;v.a.delete("".concat(this.props.apiUrl,"/users/").concat(this.props.username,"/drawings/").concat(e)).then(function(a){t.setState({drawingNames:t.state.drawingNames.filter(function(t){return t!==e})}),t.setState({messageText:"drawing ".concat(e," deleted")}),console.log(a.data)}).catch(function(e){return console.log(e)})}},{key:"switchUser",value:function(){this.props.setUsername(null)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"drawingList"},i.a.createElement("div",{className:"drawingListTopContainer drawingListContent useBorder"},i.a.createElement("div",{className:"drawingListTopBox topBox"},i.a.createElement(m,{username:this.props.username,filename:null}),i.a.createElement("div",{className:"drawingListButtonContainer topButtonContainer"},i.a.createElement("button",{className:"newDrawingButton buttonGrey",onClick:this.showCreateDrawingContainer},"New Drawing"),i.a.createElement("button",{className:"switchUserButton buttonGrey",onClick:this.switchUser},"Switch User")))),i.a.createElement("div",{className:"drawingListMainContent drawingListContent useBorder"},this.state.createDrawingIsVisible&&i.a.createElement(h,{filenameInput:this.state.filenameInput,handleFilenameInputChange:this.handleFilenameInputChange,hideCreateDrawingContainer:this.hideCreateDrawingContainer,createDrawing:this.createDrawing}),i.a.createElement("p",{className:"message",dangerouslySetInnerHTML:{__html:this.state.messageText}}),i.a.createElement("div",{className:"drawings"},this.state.drawingNames.map(function(t){return i.a.createElement(b,{key:t,filename:t,editDrawing:e.editDrawing.bind(e,t),deleteDrawing:e.deleteDrawing.bind(e,t)})}))))}}]),t}(n.Component),C=a(9),E=a(18),O="756pt",N="1152pt",I="646pt",x="342pt",y="28pt",k="36pt",D="82pt",L="994pt",P="136pt",T="792pt",S="1224pt",B="36pt",U="18pt",_={width:N,height:"146pt",top:U,left:B,zIndex:10},A=function(e){return i.a.createElement("div",{className:"editorTopContainer",style:_},i.a.createElement("div",{className:"editorTopBox topBox useBorder"},i.a.createElement(m,{username:e.username,filename:e.filename}),i.a.createElement("div",{className:"editorButtonContainer topButtonContainer"},i.a.createElement("div",{className:"editorButtonGroup"},i.a.createElement("button",{className:"switchDrawing-button buttonWhite",onClick:e.goToDrawingList},"Go To Drawing List"),i.a.createElement("button",{className:"saveDrawing-button buttonWhite",onClick:e.savePage},"Save Drawing"),i.a.createElement("button",{className:"downloadPdfButton buttonWhite",onClick:e.downloadPdf},"Download PDF")),i.a.createElement("div",{className:"editorButtonGroup"},e.nPages>1&&i.a.createElement(f,{deleteFunc:e.deletePage,text:"Delete Page"}),i.a.createElement("button",{className:"newPageButton buttonBlack",onClick:e.createPage},"New Page"),i.a.createElement("p",{className:"selectLabel"},"Page:"),i.a.createElement("select",{className:"pageSelect buttonBlack",onChange:e.selectPage,value:e.currentPage},Array.from({length:e.nPages},function(e,t){return t+1}).map(function(e){return i.a.createElement("option",{key:e,value:e},e)}))))))},F={width:"164pt",height:"236pt",left:(parseInt(B)+parseInt(I)).toString()+"pt",bottom:(parseInt(U)+2*parseInt(y)).toString()+"pt",position:"absolute",zIndex:10},R=[{name:"ALL BLACK",titleEnd:"\u2019-0\u201d HIGH CHAIN LINK FENCE - ALL BLACK SYSTEM",description:""},{name:"BLACK VINYL",titleEnd:"\u2019-0\u201d HIGH CHAIN LINK FENCE - BLACK VINYL SYSTEM",description:""},{name:"ALL GALVANIZED",titleEnd:"\u2019-0\u201d HIGH CHAIN LINK FENCE - ALL GALVANIZED SYSTEM ",description:""},{name:"GALVANIZED VINYL",titleEnd:"\u2019-0\u201d HIGH CHAIN LINK FENCE - GALVANIZED FRAMEWORK/VINYL FABRIC",description:""}],H=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={optionsAreVisible:!1},a.handleClickOutside=a.handleClickOutside.bind(Object(d.a)(Object(d.a)(a))),a.showOptions=a.showOptions.bind(Object(d.a)(Object(d.a)(a))),a.hideOptions=a.hideOptions.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside,!1)}},{key:"handleClickOutside",value:function(e){this.node.contains(e.target)||this.hideOptions()}},{key:"showOptions",value:function(){this.setState({optionsAreVisible:!0})}},{key:"hideOptions",value:function(){this.setState({optionsAreVisible:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{ref:function(t){return e.node=t},className:"descriptionSelector useBorder",style:F},this.state.optionsAreVisible?i.a.createElement("div",{className:"selectorList"},R.map(function(t){return i.a.createElement("button",{key:t.name,className:"buttonBlack",onClick:function(){return e.props.handleDescriptionChange(t.titleEnd,t.description)}},t.name)})):i.a.createElement("div",{className:"selectorList"},i.a.createElement("button",{className:"buttonGrey centerText",onClick:this.showOptions},"Select Default Description")))}}]),t}(n.Component),W={width:x,height:"396pt",top:"164pt",right:B,position:"absolute",zIndex:10},G=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={uniqueHeights:[],uniqueCategories:[],fenceImgs:[]},a.handleHeightChange=a.handleHeightChange.bind(Object(d.a)(Object(d.a)(a))),a.handleImgTypeChange=a.handleImgTypeChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("".concat(this.props.apiUrl,"/fence_images")).then(function(t){e.setState(t.data),e.setState({height:t.data.uniqueHeights[0],imgType:t.data.uniqueCategories[0]})}).catch(function(e){return console.log(e)})}},{key:"handleHeightChange",value:function(e){this.setState({height:e.target.value})}},{key:"handleImgTypeChange",value:function(e){this.setState({imgType:e.target.value})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"imageSelector useBorder",style:W},i.a.createElement("div",{className:"imageSelectorDropdowns"},i.a.createElement("p",{className:"selectLabel"},"Height (ft):"),i.a.createElement("select",{className:"buttonWhite",onChange:this.handleHeightChange},this.state.uniqueHeights.map(function(e){return i.a.createElement("option",{key:e,value:e},e)})),i.a.createElement("p",{className:"selectLabel"},"Category:"),i.a.createElement("select",{className:"buttonWhite",onChange:this.handleImgTypeChange},this.state.uniqueCategories.map(function(e){return i.a.createElement("option",{key:e,value:e},e)}))),i.a.createElement("div",{className:"selectorList"},this.state.fenceImgs.map(function(t){return parseInt(t.height)===parseInt(e.state.height)&&t.category===e.state.imgType&&i.a.createElement("button",{key:t.id,className:"buttonGrey",onClick:function(){return e.props.handleImageChange(t.id,t.height)},value:t.id},t.name)})))}}]),t}(n.Component),V=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={width:this.props.config.width,height:this.props.config.height,left:this.props.config.x,bottom:this.props.config.y,padding:this.props.config.padding},t={fontSize:this.props.config.font_size,fontWeight:this.props.config.font_weight,textAlign:this.props.config.alignment};return i.a.createElement("div",{className:"textWrapper ".concat(this.props.config.border?"useBorder":""),style:e},this.props.takesInput?i.a.createElement("textarea",{className:"pdfTextInput",value:this.props.value,onChange:this.props.handleTextChange,style:t}):i.a.createElement("p",{className:"fixedText",style:t,dangerouslySetInnerHTML:{__html:this.props.config.default_text}}))}}]),t}(n.Component),M={textarea_configs:[{id:"desc1",width:"156pt",height:"160pt",x:"36pt",y:"18pt",font_size:"10pt",padding:"2pt",bold:!1,border:!0,font_weight:"normal",alignment:"left",default_text:"CHAIN LINK FABRIC:\n\nLINE/GATE/TERMINAL POSTS:\n\nTOP RAIL:\nBOTTOM TENSION WIRE:\nGATE AND BRACE:\nTIE WIRES:\nFITTINGS AND ACCESSORIES:\n\n*NOTE:"},{id:"desc2",width:"490pt",height:"160pt",x:"192pt",y:"18pt",font_size:"10pt",padding:"2pt",bold:!1,border:!0,font_weight:"normal",alignment:"left",default_text:""},{id:"title",width:"646pt",height:"32pt",x:"36pt",y:"178pt",font_size:"18pt",padding:"2pt",bold:!0,border:!0,font_weight:"bold",alignment:"center",default_text:"{}\u2019-0\u201d HIGH CHAIN LINK FENCE"},{id:"date",width:"164pt",height:"28pt",x:"682pt",y:"18pt",font_size:"14pt",padding:"2pt",bold:!1,border:!0,font_weight:"normal",alignment:"center",default_text:"//"},{id:"scale",width:"164pt",height:"28pt",x:"682pt",y:"46pt",font_size:"14pt",padding:"2pt",bold:!1,border:!0,font_weight:"normal",alignment:"center",default_text:"SCALE: \xbd\u201d = 1\u2019-0\u201d"},{id:"contractor1",width:"142pt",height:"60pt",x:"846pt",y:"172pt",font_size:"10pt",padding:"2pt",bold:!1,border:!0,font_weight:"normal",alignment:"left",default_text:"GENERAL CONTRACTOR:\nADDRESS:\n\nPHONE #:"},{id:"contractor2",width:"200pt",height:"60pt",x:"988pt",y:"172pt",font_size:"10pt",padding:"2pt",bold:!1,border:!0,font_weight:"normal",alignment:"left",default_text:""},{id:"owner1",width:"142pt",height:"100pt",x:"846pt",y:"18pt",font_size:"10pt",padding:"2pt",bold:!1,border:!0,font_weight:"normal",alignment:"left",default_text:"OWNER:\nLOCATION:\n\nPROJECT NAME:\n\nCONSULTANT:\nPROJECT NO.:"},{id:"owner2",width:"200pt",height:"100pt",x:"988pt",y:"18pt",font_size:"10pt",padding:"2pt",bold:!1,border:!0,font_weight:"normal",alignment:"left",default_text:""}],fixedtext_configs:[{id:"subcontractor1",width:"142pt",height:"54pt",x:"846pt",y:"118pt",font_size:"10pt",padding:"2pt",bold:!1,border:!0,font_weight:"normal",alignment:"left",default_text:"SUBCONTRACTOR<br />ADDRESS:<br /><br />PHONE NO.:<br />"},{id:"subcontractor2",width:"200pt",height:"54pt",x:"988pt",y:"118pt",font_size:"10pt",padding:"2pt",bold:!1,border:!0,font_weight:"normal",alignment:"right",default_text:"1775 ROUTE 25:<br />P.O. BOX 430:<br />RIDGE, NY 11961<br />(631) 924-3011 FAX NO.: (631) 924-3275"}]},z=(a(46),{width:S,height:T}),K={width:N,height:O,left:B,bottom:U},q={width:I,height:"418pt",left:B,bottom:"210pt"},Y={width:D,height:k,left:L,bottom:P},J=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e));var n={apiUrl:"".concat(e.apiUrl,"/users/").concat(e.username,"/drawings/").concat(e.filename),currentPage:1,nPages:1,fenceImgId:null};return M.textarea_configs.map(function(e){return n[e.id]=""}),a.state=n,a.goToDrawingList=a.goToDrawingList.bind(Object(d.a)(Object(d.a)(a))),a.getPage=a.getPage.bind(Object(d.a)(Object(d.a)(a))),a.selectPage=a.selectPage.bind(Object(d.a)(Object(d.a)(a))),a.createPage=a.createPage.bind(Object(d.a)(Object(d.a)(a))),a.deletePage=a.deletePage.bind(Object(d.a)(Object(d.a)(a))),a.savePage=a.savePage.bind(Object(d.a)(Object(d.a)(a))),a.savePageBefore=a.savePageBefore.bind(Object(d.a)(Object(d.a)(a))),a.handleImageChange=a.handleImageChange.bind(Object(d.a)(Object(d.a)(a))),a.handleDescriptionChange=a.handleDescriptionChange.bind(Object(d.a)(Object(d.a)(a))),a.downloadPdf=a.downloadPdf.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getPage(this.state.currentPage)}},{key:"getRequestData",value:function(e){var t={new_page:e};null!==this.state.fenceImgId&&(t.fence_image_id=this.state.fenceImgId);for(var a=0;a<M.textarea_configs.length;a++){var n=M.textarea_configs[a].id;t[n]=this.state[n]}return t}},{key:"getPage",value:function(e){var t=this;v.a.get("".concat(this.state.apiUrl,"/pages/").concat(e)).then(function(a){t.setState(a.data),t.setState({currentPage:e}),v.a.get(t.state.apiUrl).then(function(e){t.setState({nPages:e.data.n_pages})}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},{key:"selectPage",value:function(e){var t=this,a=e.target.value;this.savePageBefore(function(){return t.getPage(a)})}},{key:"createPage",value:function(){var e=this;this.savePageBefore(function(){var t=e.getRequestData(!0);v.a.post("".concat(e.state.apiUrl,"/pages"),t).then(function(t){e.getPage(t.data.page_number)}).catch(function(e){return console.log(e)})})}},{key:"deletePage",value:function(){var e=this;this.state.nPages<=1||v.a.delete("".concat(this.state.apiUrl,"/pages/").concat(this.state.currentPage)).then(function(t){var a=Math.max(1,e.state.currentPage-1);e.getPage(a)}).catch(function(e){return console.log(e)})}},{key:"savePage",value:function(){this.savePageBefore(null)}},{key:"savePageBefore",value:function(e){var t=this.getRequestData(!1);v.a.put("".concat(this.state.apiUrl,"/pages/").concat(this.state.currentPage),t).then(function(t){null!==e&&e()}).catch(function(e){return console.log(e)})}},{key:"handleTextChange",value:function(e,t){this.setState(Object(E.a)({},this.state,Object(C.a)({},e,t.target.value)))}},{key:"goToDrawingList",value:function(){this.props.setFilename(null)}},{key:"handleImageChange",value:function(e,t){this.setState({fenceImgId:e,title:this.state.title.replace(/\d+/,t.toString())})}},{key:"handleDescriptionChange",value:function(e,t){var a=this.state.title.match(/\d+/)[0];this.setState({title:a+e,desc2:t})}},{key:"downloadPdf",value:function(){var e=this;this.savePageBefore(function(){v.a.get("".concat(e.state.apiUrl,"/pdf"),{responseType:"blob"}).then(function(t){var a=new Blob([t.data],{type:"application/pdf"}),n=URL.createObjectURL(a),i=document.createElement("a");i.style.display="none",i.href=n,i.download="".concat(e.props.filename,".pdf"),document.body.appendChild(i),i.click(),URL.revokeObjectURL(n)}).catch(function(e){return console.log(e)})})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"editor",style:z},i.a.createElement(A,{username:this.props.username,filename:this.props.filename,currentPage:this.state.currentPage,nPages:this.state.nPages,selectPage:this.selectPage,createPage:this.createPage,deletePage:this.deletePage,savePage:this.savePage,goToDrawingList:this.goToDrawingList,downloadPdf:this.downloadPdf}),i.a.createElement(H,{handleDescriptionChange:this.handleDescriptionChange}),i.a.createElement(G,{apiUrl:this.props.apiUrl,handleImageChange:this.handleImageChange}),i.a.createElement("div",{className:"editorBorder useBorder",style:K}),i.a.createElement("div",{className:"imgContainer",style:q},i.a.createElement("img",{className:"fenceImg",alt:"fence",src:null===this.state.fenceImgId?a(47):a(48)("./".concat(this.state.fenceImgId,".jpg"))})),i.a.createElement("div",{className:"imgContainer",style:Y},i.a.createElement("img",{className:"logoImg",alt:"logo",src:a(88)})),[M.textarea_configs,M.fixedtext_configs].map(function(t,a){return t.map(function(t){return i.a.createElement(V,{key:t.id,config:t,takesInput:0===a,value:e.state[t.id],handleTextChange:e.handleTextChange.bind(e,t.id)})})}))}}]),t}(n.Component),Z=(a(89),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={messageText:"",usernameInput:""},a.registerUser=a.registerUser.bind(Object(d.a)(Object(d.a)(a))),a.loginUser=a.loginUser.bind(Object(d.a)(Object(d.a)(a))),a.handleUsernameInputChange=a.handleUsernameInputChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"registerUser",value:function(){var e=this,t=this.state.usernameInput;""!==t&&v.a.post("".concat(this.props.apiUrl,"/users"),{username:t}).then(function(a){e.setState({messageText:"registered user <i>".concat(t,'</i><br/>click "Login" to go to drawings')})}).catch(function(a){e.setState({messageText:"user <i>".concat(t,'</i> already exists<br/>click "Login" to go to drawings')}),console.log(a)})}},{key:"loginUser",value:function(){var e=this,t=this.state.usernameInput;""!==t&&(console.log("".concat(this.props.apiUrl,"/users/").concat(t)),v.a.get("".concat(this.props.apiUrl,"/users/").concat(t)).then(function(a){e.props.setUsername(t),console.log(a.data)}).catch(function(a){e.setState({messageText:"user <i>".concat(t,"</i> does not exist")}),console.log(a)}))}},{key:"handleUsernameInputChange",value:function(e){this.setState({usernameInput:e.target.value})}},{key:"render",value:function(){return i.a.createElement("div",{className:"userLoginContainer useBorder"},i.a.createElement("div",{className:"titleContainer"},i.a.createElement("p",{className:"title28"},"F E N C E  D R A W")),i.a.createElement("div",{className:"userLoginSection useBorder"},i.a.createElement("input",{className:"userLoginTextInput",type:"text",name:"username",value:this.state.usernameInput,onChange:this.handleUsernameInputChange,placeholder:"enter username"})),i.a.createElement("div",{className:"userLoginSection useBorder"},i.a.createElement("button",{className:"registerUserButton buttonBlack",onClick:this.registerUser},"Register User"),i.a.createElement("button",{className:"loginUserButton buttonBlack",onClick:this.loginUser},"Login")),i.a.createElement("div",null,i.a.createElement("p",{className:"message",dangerouslySetInnerHTML:{__html:this.state.messageText}})))}}]),t}(n.Component)),X=(a(90),window.location.href+"api/v1"),$=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:null,filename:null},a.setUsername=a.setUsername.bind(Object(d.a)(Object(d.a)(a))),a.setFilename=a.setFilename.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setUsername",value:function(e){this.setState({username:e})}},{key:"setFilename",value:function(e){this.setState({filename:e})}},{key:"render",value:function(){return i.a.createElement("div",null,null===this.state.filename||null===this.state.username?null===this.state.username?i.a.createElement(Z,{apiUrl:X,setUsername:this.setUsername}):i.a.createElement(w,{apiUrl:X,username:this.state.username,setUsername:this.setUsername,setFilename:this.setFilename}):i.a.createElement(J,{apiUrl:X,username:this.state.username,filename:this.state.filename,setFilename:this.setFilename}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}]),[[20,1,2]]]);
//# sourceMappingURL=main.419b76bc.chunk.js.map